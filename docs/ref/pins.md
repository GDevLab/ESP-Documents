# Pins

**พินประเภทต่างๆ และความหมาย**

1. **พินจ่ายไฟ (Power Pins)**

    - VIN (Voltage In) : พินสำหรับป้อนแรงดันไฟฟ้าภายนอกให้กับบอร์ด ESP8266/ESP32 โดยทั่วไปจะรองรับแรงดันไฟฟ้าที่กว้างกว่า 3.3V (เช่น 5V หรือสูงกว่าเล็กน้อย) และมีวงจรเรกูเลเตอร์บนบอร์ดเพื่อแปลงแรงดันให้เป็น 3.3V สำหรับเลี้ยงตัวชิปและอุปกรณ์อื่นๆ บนบอร์ด
    - 3.3V : พินเอาต์พุตที่จ่ายแรงดันไฟฟ้าคงที่ 3.3V ซึ่งมาจากวงจรเรกูเลเตอร์บนบอร์ด สามารถนำไปใช้จ่ายไฟให้กับอุปกรณ์ภายนอกที่ต้องการแรงดัน 3.3V ได้ แต่ต้องระวังกระแสไฟฟ้าที่จ่ายได้สูงสุดเพื่อไม่ให้วงจรเรกูเลเตอร์เสียหาย
    - GND (Ground) : พินกราวด์ หรือจุดอ้างอิงทางไฟฟ้า ใช้เป็นจุดเชื่อมต่อร่วมสำหรับแรงดันไฟฟ้าและการส่งสัญญาณต่างๆ ในวงจร

2. **พินอินพุต/เอาต์พุตดิจิทัลทั่วไป (GPIO - General Purpose Input/Output)**

    - GPIOx (x คือหมายเลขพิน) : พินเหล่านี้เป็นพินอเนกประสงค์ที่สามารถกำหนดค่าให้เป็นได้ทั้งอินพุตดิจิทัล (รับสัญญาณ เช่น จากสวิตช์ เซ็นเซอร์ดิจิทัล) หรือเอาต์พุตดิจิทัล (ส่งสัญญาณ เช่น ควบคุม LED รีเลย์)
    - ความหมาย :
        - อินพุต : เมื่อกำหนดค่าเป็นอินพุต พินจะอ่านสถานะแรงดันไฟฟ้าที่เข้ามา ซึ่งโดยทั่วไปจะตีความเป็นลอจิก HIGH (ประมาณ 3.3V) หรือ LOW (ประมาณ 0V)
        - เอาต์พุต : เมื่อกำหนดค่าเป็นเอาต์พุต พินจะสามารถถูกตั้งค่าให้มีสถานะเป็น HIGH (จ่ายแรงดัน 3.3V) หรือ LOW (ต่อลงกราวด์) เพื่อควบคุมอุปกรณ์ภายนอก
    - คุณสมบัติเพิ่มเติม :
        - Pull-up/Pull-down Resistors : GPIO บางพินสามารถเปิดใช้งานตัวต้านทานแบบ Pull-up (ต่อกับ VCC 3.3V ภายใน) หรือ Pull-down (ต่อกับ GND ภายใน) เพื่อกำหนดสถานะเริ่มต้นของพินเมื่อไม่มีสัญญาณภายนอกมากระทำ ซึ่งช่วยป้องกันการอ่านค่าที่ไม่แน่นอน (Floating)
        - Interrupts : GPIO ส่วนใหญ่สามารถกำหนดค่าให้สร้างสัญญาณอินเทอร์รัปต์เมื่อมีการเปลี่ยนแปลงสถานะ (เช่น จาก LOW ไป HIGH หรือ HIGH ไป LOW) ทำให้ไมโครคอนโทรลเลอร์สามารถตอบสนองต่อเหตุการณ์ภายนอกได้อย่างรวดเร็วโดยไม่ต้องตรวจสอบสถานะของพินอย่างต่อเนื่อง

    **ข้อควรระวัง** : GPIO บางพินอาจมีหน้าที่พิเศษในช่วงบูตของ ESP8266/ESP32 ดังนั้นควรศึกษาเอกสารข้อมูล (Datasheet) ของบอร์ดที่คุณใช้เพื่อหลีกเลี่ยงปัญหาในการบูต

3. **พินอินพุตอะนาล็อก (ADC - Analog-to-Digital Converter)**

    - ADCx (x คือหมายเลขช่องสัญญาณ) : พินเหล่านี้ถูกออกแบบมาเพื่ออ่านค่าแรงดันไฟฟ้าอะนาล็อก (ค่าต่อเนื่องในช่วงหนึ่ง) และแปลงเป็นค่าดิจิทัลที่ไมโครคอนโทรลเลอร์สามารถประมวลผลได้
    - ความหมาย : แรงดันไฟฟ้าที่เข้ามาในช่วงที่กำหนด (เช่น 0-1V สำหรับ ESP8266 ชิปเปล่า หรือ 0-3.3V สำหรับ ESP8266 NodeMCU และ ESP32) จะถูกแปลงเป็นค่าดิจิทัลในช่วงหนึ่ง (เช่น 0-1023 สำหรับ ADC 10-bit ของ ESP8266 หรือ 0-4095 สำหรับ ADC 12-bit ของ ESP32)
    - จำนวนช่องและ Resolution :
        - ESP8266 : มีช่อง ADC เพียง 1 ช่อง (มักระบุเป็น A0) ที่มีความละเอียด 10-bit
        - ESP32 : มีช่อง ADC หลายช่อง (แตกต่างกันไปตามรุ่น) ที่มีความละเอียด 12-bit ทำให้สามารถอ่านค่าอะนาล็อกได้แม่นยำกว่า
    - การใช้งาน : ใช้สำหรับอ่านค่าจากเซ็นเซอร์อะนาล็อก เช่น เซ็นเซอร์วัดอุณหภูมิ ความชื้น แสง หรือแรงดัน

4. **พินเอาต์พุตอะนาล็อก (DAC - Digital-to-Analog Converter)**

    - DACx (x คือหมายเลขช่องสัญญาณ) : พินเหล่านี้สามารถแปลงค่าดิจิทัลที่ไมโครคอนโทรลเลอร์สร้างขึ้นให้เป็นแรงดันไฟฟ้าอะนาล็อกในช่วงที่กำหนด
    - ความหมาย : เมื่อเขียนค่าดิจิทัลไปยังพิน DAC จะมีแรงดันไฟฟ้าอะนาล็อกปรากฏที่พินนั้น
    - จำนวนช่องและ Resolution :
        - ESP8266 : ไม่มีฮาร์ดแวร์ DAC โดยตรง แต่สามารถจำลองสัญญาณอะนาล็อกได้โดยใช้ Pulse Width Modulation (PWM)
        - ESP32 : มีช่อง DAC 2 ช่อง ที่มีความละเอียด 8-bit
    - การใช้งาน : ใช้สำหรับควบคุมอุปกรณ์ที่ต้องการสัญญาณอะนาล็อก เช่น ควบคุมความสว่างของ LED แบบละเอียด หรือสร้างสัญญาณเสียง

5. **พิน Pulse Width Modulation (PWM)**

    - GPIO ที่รองรับ PWM : GPIO ส่วนใหญ่ของ ESP8266 และ ESP32 สามารถถูกกำหนดค่าให้สร้างสัญญาณ PWM ได้
    - ความหมาย : PWM เป็นเทคนิคในการจำลองสัญญาณอะนาล็อกโดยการสลับสัญญาณดิจิทัล HIGH และ LOW ด้วยความถี่คงที่ แต่ปรับเปลี่ยนความกว้างของพัลส์ HIGH (Duty Cycle)
    - Resolution และความถี่ :
        - ESP8266 : รองรับ PWM แบบซอฟต์แวร์บนทุก GPIO ที่มีความละเอียด 10-bit และความถี่ที่ปรับได้
        - ESP32 : มีฮาร์ดแวร์ PWM Controller ที่มีหลายช่องสัญญาณ สามารถตั้งค่าความถี่และความละเอียด (สูงถึง 16-bit) ได้หลากหลาย ทำให้ควบคุมได้แม่นยำกว่า
    - การใช้งาน : ใช้สำหรับควบคุมความสว่างของ LED, ความเร็วของมอเตอร์, หรือสร้างสัญญาณอะนาล็อกแบบหยาบ

6. **พินสื่อสารอนุกรม (Serial Communication Pins)**

    - UART (Universal Asynchronous Receiver/Transmitter) : ใช้สำหรับการสื่อสารแบบอนุกรม asynchronous โดยทั่วไปจะมีพิน TX (Transmit - ส่งข้อมูล) และ RX (Receive - รับข้อมูล)
        - ESP8266 : มี UART 2 ชุด (UART0 และ UART1) โดย UART0 มักใช้สำหรับการสื่อสารกับคอมพิวเตอร์ผ่าน USB (ผ่านชิป USB-to-Serial บนบอร์ด NodeMCU) และ UART1 มีพิน TX เพียงอย่างเดียว
        - ESP32 : มี UART 3 ชุด (UART0, UART1, UART2) ที่สามารถกำหนดพิน TX และ RX ได้
    - I2C (Inter-Integrated Circuit) : โปรโตคอลการสื่อสารแบบอนุกรม synchronous ที่ใช้สายสัญญาณ 2 เส้น คือ SDA (Serial Data) และ SCL (Serial Clock)
        - ESP8266 : ไม่มีฮาร์ดแวร์ I²C โดยตรง แต่สามารถใช้งาน I²C ผ่านการจำลองด้วยซอฟต์แวร์บน GPIO ใดก็ได้ (โดยทั่วไปใช้ GPIO4 เป็น SDA และ GPIO5 เป็น SCL)
        - ESP32 : มีฮาร์ดแวร์ I²C Controller 2 ชุด ทำให้สามารถสื่อสาร I²C ได้อย่างมีประสิทธิภาพ
    - SPI (Serial Peripheral Interface) : โปรโตคอลการสื่อสารแบบอนุกรม synchronous ที่ใช้สายสัญญาณ 4 เส้น (หรือมากกว่า) คือ MOSI/SDI (Master Out Slave In/Serial Data In), MISO/SDO (Master In Slave Out/Serial Data Out), SCLK (Serial Clock), และ CS/SS (Chip Select/Slave Select)
        - ESP8266 : มีฮาร์ดแวร์ SPI 1 ชุด
        - ESP32 : มีฮาร์ดแวร์ SPI Controller 3 ชุด ทำให้รองรับการสื่อสาร SPI ได้หลากหลาย

7. **พินควบคุม (Control Pins)**

    - RST/EN (Reset/Enable) : พิน Reset ใช้สำหรับรีบูต ESP8266/ESP32 เมื่อพินนี้ถูกดึงลง LOW ชั่วครู่ ชิปจะเริ่มต้นการทำงานใหม่ พิน Enable (EN หรือ CH_PD บน ESP8266 บางรุ่น) ใช้สำหรับเปิด/ปิดการทำงานของชิป เมื่อพินนี้ถูกดึงลง LOW ชิปจะเข้าสู่โหมดพลังงานต่ำ
    - GPIO0 (ESP8266) : พินนี้มีหน้าที่พิเศษในช่วงบูต หากถูกดึงลง LOW จะทำให้ ESP8266 เข้าสู่โหมด Flash สำหรับอัปโหลดโปรแกรม
    - Strapping Pins (ESP32) : ESP32 มีพิน Strapping หลายพิน (เช่น GPIO0, GPIO2, GPIO12, GPIO15) ที่ใช้กำหนดโหมดการบูตของชิป สถานะของพินเหล่านี้ขณะบูตมีผลต่อการทำงานของ ESP32

8. **พินอื่นๆ**

    - Wake (ESP8266/ESP32) : ใช้สำหรับปลุกชิปจากโหมด Deep Sleep โดย GPIO16 มักใช้เป็นพิน Wakeup บน ESP8266
    - SDIO (Secure Digital Input/Output) : ESP8266 และ ESP32 บางรุ่นมีอินเทอร์เฟซ SDIO สำหรับเชื่อมต่อกับ SD Card โดยใช้ GPIO หลายพิน
    - JTAG (Joint Test Action Group) : อินเทอร์เฟซสำหรับดีบักและโปรแกรมชิปในระดับฮาร์ดแวร์ มักใช้ GPIO หลายพิน

**สรุป** : การทำความเข้าใจประเภทและความหมายของพินต่างๆ ใน ESP8266 และ ESP32 เป็นสิ่งสำคัญอย่างยิ่งสำหรับการใช้งานไมโครคอนโทรลเลอร์เหล่านี้อย่างมีประสิทธิภาพ การเลือกใช้พินให้เหมาะสมกับหน้าที่ และ ความสามารถของแต่ละพิน จะช่วยให้คุณสามารถเชื่อมต่อ และ ควบคุมอุปกรณ์ภายนอกได้อย่างถูกต้องและหลีกเลี่ยงปัญหาที่ไม่คาดคิด
